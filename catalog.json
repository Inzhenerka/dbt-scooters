{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/catalog/v1.json", "dbt_version": "1.8.2", "generated_at": "2024-06-16T00:40:07.806535Z", "invocation_id": "720064e9-b96d-43e2-a564-8093884fb47e", "env": {}}, "nodes": {"seed.dbt_scooters.age_groups": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "age_groups", "database": "dev_tcz3", "comment": "Age groups to split users by age for analysis", "owner": "admin"}, "columns": {"group": {"type": "text", "index": 1, "name": "group", "comment": "Age group name for report"}, "age_start": {"type": "integer", "index": 2, "name": "age_start", "comment": "Start age of group"}, "age_end": {"type": "integer", "index": 3, "name": "age_end", "comment": "End age of group"}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "seed.dbt_scooters.age_groups"}, "model.dbt_scooters.book_scooter_retention": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "book_scooter_retention", "database": "dev_tcz3", "comment": "Retention analysis which tells how many people started search for scooter and finally booked it on or after 1, 7, 14 days (or weeks, months, years), etc", "owner": "admin"}, "columns": {"period": {"type": "integer", "index": 1, "name": "period", "comment": null}, "unique_users": {"type": "bigint", "index": 2, "name": "unique_users", "comment": null}, "pct_users": {"type": "numeric", "index": 3, "name": "pct_users", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.book_scooter_retention"}, "model.dbt_scooters.companies": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "companies", "database": "dev_tcz3", "comment": "Scooter satistics by company", "owner": "admin"}, "columns": {"company": {"type": "text", "index": 1, "name": "company", "comment": null}, "models": {"type": "bigint", "index": 2, "name": "models", "comment": null}, "scooters": {"type": "bigint", "index": 3, "name": "scooters", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.companies"}, "model.dbt_scooters.companies_trips": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "companies_trips", "database": "dev_tcz3", "comment": "Trip satistics by company", "owner": "admin"}, "columns": {"company": {"type": "text", "index": 1, "name": "company", "comment": "Scooters manufacturing company"}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}, "scooters": {"type": "bigint", "index": 3, "name": "scooters", "comment": null}, "trips_per_scooter": {"type": "double precision", "index": 4, "name": "trips_per_scooter", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.companies_trips"}, "seed.dbt_scooters.event_types": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "event_types", "database": "dev_tcz3", "comment": "### Types of user events (mapping dictionary)\r\n\r\nProvides a mapping between the unique identifiers of event types and their textual representations.\r\nThis dataset is essential for interpreting the types of events recorded in the user events table.\r\n**Each row in the table corresponds to a specific event type that users can trigger within the application.**\r\n\r\nThis table is crucial for the accurate categorization and analysis of user actions within the application.\r\nBy referencing this table, analysts can better understand user behavior and the distribution of different event types within the system.", "owner": "admin"}, "columns": {"type_id": {"type": "integer", "index": 1, "name": "type_id", "comment": "An integer representing the unique identifier for each event type. This ID is used in the user events table to refer to specific event types.\n"}, "type": {"type": "text", "index": 2, "name": "type", "comment": "A string providing the textual name of the event type. This name describes the nature of the event and is used for reporting and analysis purposes.\n"}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "seed.dbt_scooters.event_types"}, "model.dbt_scooters.events_clean": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "events_clean", "database": "dev_tcz3", "comment": "User events without duplicates", "owner": "admin"}, "columns": {"user_id": {"type": "bigint", "index": 1, "name": "user_id", "comment": null}, "timestamp": {"type": "timestamp without time zone", "index": 2, "name": "timestamp", "comment": null}, "type_id": {"type": "bigint", "index": 3, "name": "type_id", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 4, "name": "updated_at", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.events_clean"}, "model.dbt_scooters.events_full": {"metadata": {"type": "VIEW", "schema": "dbt", "name": "events_full", "database": "dev_tcz3", "comment": "User events enriched with meaningful types", "owner": "admin"}, "columns": {"type_id": {"type": "bigint", "index": 1, "name": "type_id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "timestamp": {"type": "timestamp without time zone", "index": 3, "name": "timestamp", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 4, "name": "updated_at", "comment": null}, "type": {"type": "text", "index": 5, "name": "type", "comment": null}, "date": {"type": "date", "index": 6, "name": "date", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.events_full"}, "model.dbt_scooters.events_stat": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "events_stat", "database": "dev_tcz3", "comment": "Overall user events statistics", "owner": "admin"}, "columns": {"cancel_pct": {"type": "double precision", "index": 1, "name": "cancel_pct", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.events_stat"}, "seed.dbt_scooters.models": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "models", "database": "dev_tcz3", "comment": "Scooter models information and park statistics by model. Includes information about the manufacturing company. Data received from the service team and uploaded by Mark. Data is current as of summer 2023.\n", "owner": "admin"}, "columns": {"company": {"type": "text", "index": 1, "name": "company", "comment": null}, "model": {"type": "text", "index": 2, "name": "model", "comment": null}, "hardware_id": {"type": "text", "index": 3, "name": "hardware_id", "comment": null}, "scooters": {"type": "integer", "index": 4, "name": "scooters", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "seed.dbt_scooters.models"}, "model.dbt_scooters.parking_finish_stat": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "parking_finish_stat", "database": "dev_tcz3", "comment": "Trip finish parking statistics by 10 m hexagons", "owner": "admin"}, "columns": {"geom": {"type": "geometry", "index": 1, "name": "geom", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.parking_finish_stat"}, "model.dbt_scooters.parking_start_stat": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "parking_start_stat", "database": "dev_tcz3", "comment": "Trip starts parking statistics by 500 m hexagons", "owner": "admin"}, "columns": {"geom": {"type": "geometry", "index": 1, "name": "geom", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.parking_start_stat"}, "model.dbt_scooters.sex_age_pivot": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "sex_age_pivot", "database": "dev_tcz3", "comment": "Trips per age grouped by sex", "owner": "admin"}, "columns": {"age": {"type": "numeric", "index": 1, "name": "age", "comment": "Numerical age of user"}, "M": {"type": "bigint", "index": 2, "name": "M", "comment": null}, "F": {"type": "bigint", "index": 3, "name": "F", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.sex_age_pivot"}, "model.dbt_scooters.trips_age_daily": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "trips_age_daily", "database": "dev_tcz3", "comment": "Daily trips statistics by user age", "owner": "admin"}, "columns": {"date": {"type": "date", "index": 1, "name": "date", "comment": null}, "age": {"type": "numeric", "index": 2, "name": "age", "comment": null}, "trips": {"type": "bigint", "index": 3, "name": "trips", "comment": null}, "revenue_rub": {"type": "numeric", "index": 4, "name": "revenue_rub", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_age_daily"}, "model.dbt_scooters.trips_age_daily_stat": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "trips_age_daily_stat", "database": "dev_tcz3", "comment": "Aggregation of daily trips statistics by user age", "owner": "admin"}, "columns": {"age": {"type": "numeric", "index": 1, "name": "age", "comment": null}, "avg_trips": {"type": "numeric", "index": 2, "name": "avg_trips", "comment": null}, "avg_revenue_rub": {"type": "numeric", "index": 3, "name": "avg_revenue_rub", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_age_daily_stat"}, "model.dbt_scooters.trips_age_group": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "trips_age_group", "database": "dev_tcz3", "comment": "Overall trips statistics by user age group", "owner": "admin"}, "columns": {"age_group": {"type": "text", "index": 1, "name": "age_group", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}, "revenue_rub": {"type": "numeric", "index": 3, "name": "revenue_rub", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_age_group"}, "model.dbt_scooters.trips_concurrency": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "trips_concurrency", "database": "dev_tcz3", "comment": "Number of simultaneous rides in time", "owner": "admin"}, "columns": {"timestamp": {"type": "timestamp with time zone", "index": 1, "name": "timestamp", "comment": null}, "concurrency": {"type": "numeric", "index": 2, "name": "concurrency", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 3, "name": "updated_at", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_concurrency"}, "model.dbt_scooters.trips_geom": {"metadata": {"type": "VIEW", "schema": "dbt", "name": "trips_geom", "database": "dev_tcz3", "comment": "Trips prepared for geometry analysis", "owner": "admin"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "start_point": {"type": "geometry", "index": 2, "name": "start_point", "comment": null}, "finish_point": {"type": "geometry", "index": 3, "name": "finish_point", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_geom"}, "model.dbt_scooters.trips_prep": {"metadata": {"type": "VIEW", "schema": "dbt", "name": "trips_prep", "database": "dev_tcz3", "comment": "Trips prepared for analysis", "owner": "admin"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "scooter_hw_id": {"type": "text", "index": 3, "name": "scooter_hw_id", "comment": null}, "started_at": {"type": "timestamp with time zone", "index": 4, "name": "started_at", "comment": null}, "finished_at": {"type": "timestamp with time zone", "index": 5, "name": "finished_at", "comment": null}, "start_lat": {"type": "double precision", "index": 6, "name": "start_lat", "comment": null}, "start_lon": {"type": "double precision", "index": 7, "name": "start_lon", "comment": null}, "finish_lat": {"type": "double precision", "index": 8, "name": "finish_lat", "comment": null}, "finish_lon": {"type": "double precision", "index": 9, "name": "finish_lon", "comment": null}, "distance_m": {"type": "double precision", "index": 10, "name": "distance_m", "comment": null}, "price_rub": {"type": "numeric", "index": 11, "name": "price_rub", "comment": null}, "duration_s": {"type": "numeric", "index": 12, "name": "duration_s", "comment": null}, "is_free": {"type": "boolean", "index": 13, "name": "is_free", "comment": null}, "date": {"type": "date", "index": 14, "name": "date", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_prep"}, "model.dbt_scooters.trips_stat": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "trips_stat", "database": "dev_tcz3", "comment": "Overall trips statistics", "owner": "admin"}, "columns": {"trips": {"type": "bigint", "index": 1, "name": "trips", "comment": null}, "users": {"type": "bigint", "index": 2, "name": "users", "comment": null}, "avg_duration_min": {"type": "numeric", "index": 3, "name": "avg_duration_min", "comment": null}, "sum_distance_km": {"type": "double precision", "index": 4, "name": "sum_distance_km", "comment": null}, "revenue_rub": {"type": "numeric", "index": 5, "name": "revenue_rub", "comment": null}, "free_trips_pct": {"type": "double precision", "index": 6, "name": "free_trips_pct", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_stat"}, "model.dbt_scooters.trips_stat_daily": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "trips_stat_daily", "database": "dev_tcz3", "comment": "Overall trips statistics per day", "owner": "admin"}, "columns": {"date": {"type": "date", "index": 1, "name": "date", "comment": null}, "trips": {"type": "bigint", "index": 2, "name": "trips", "comment": null}, "max_price_rub": {"type": "numeric", "index": 3, "name": "max_price_rub", "comment": null}, "avg_distance_km": {"type": "double precision", "index": 4, "name": "avg_distance_km", "comment": null}, "avg_price_rub_per_min": {"type": "numeric", "index": 5, "name": "avg_price_rub_per_min", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_stat_daily"}, "model.dbt_scooters.trips_users": {"metadata": {"type": "BASE TABLE", "schema": "dbt", "name": "trips_users", "database": "dev_tcz3", "comment": "Prepared trips enriched with users data", "owner": "admin"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "scooter_hw_id": {"type": "text", "index": 3, "name": "scooter_hw_id", "comment": null}, "started_at": {"type": "timestamp with time zone", "index": 4, "name": "started_at", "comment": null}, "finished_at": {"type": "timestamp with time zone", "index": 5, "name": "finished_at", "comment": null}, "start_lat": {"type": "double precision", "index": 6, "name": "start_lat", "comment": null}, "start_lon": {"type": "double precision", "index": 7, "name": "start_lon", "comment": null}, "finish_lat": {"type": "double precision", "index": 8, "name": "finish_lat", "comment": null}, "finish_lon": {"type": "double precision", "index": 9, "name": "finish_lon", "comment": null}, "distance_m": {"type": "double precision", "index": 10, "name": "distance_m", "comment": null}, "price_rub": {"type": "numeric", "index": 11, "name": "price_rub", "comment": null}, "duration_s": {"type": "numeric", "index": 12, "name": "duration_s", "comment": null}, "is_free": {"type": "boolean", "index": 13, "name": "is_free", "comment": null}, "date": {"type": "date", "index": 14, "name": "date", "comment": null}, "sex": {"type": "text", "index": 15, "name": "sex", "comment": null}, "age": {"type": "numeric", "index": 16, "name": "age", "comment": null}, "updated_at": {"type": "timestamp with time zone", "index": 17, "name": "updated_at", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.trips_users"}, "model.dbt_scooters.revenue_daily": {"metadata": {"type": "BASE TABLE", "schema": "dbt_finance", "name": "revenue_daily", "database": "dev_tcz3", "comment": "Summary daily revenue", "owner": "admin"}, "columns": {"revenue_rub": {"type": "numeric(20,2)", "index": 1, "name": "revenue_rub", "comment": "Daily revenue in rubles"}, "date": {"type": "date", "index": 2, "name": "date", "comment": "Unique day"}, "updated_at": {"type": "timestamp with time zone", "index": 3, "name": "updated_at", "comment": "When row was updated last time"}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "model.dbt_scooters.revenue_daily"}}, "sources": {"source.dbt_scooters.scooters_raw.events": {"metadata": {"type": "BASE TABLE", "schema": "scooters_raw", "name": "events", "database": "dev_tcz3", "comment": null, "owner": "admin"}, "columns": {"user_id": {"type": "bigint", "index": 1, "name": "user_id", "comment": null}, "timestamp": {"type": "timestamp without time zone", "index": 2, "name": "timestamp", "comment": null}, "type_id": {"type": "bigint", "index": 3, "name": "type_id", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.dbt_scooters.scooters_raw.events"}, "source.dbt_scooters.scooters_raw.trips": {"metadata": {"type": "BASE TABLE", "schema": "scooters_raw", "name": "trips", "database": "dev_tcz3", "comment": null, "owner": "admin"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "user_id": {"type": "bigint", "index": 2, "name": "user_id", "comment": null}, "scooter_hw_id": {"type": "text", "index": 3, "name": "scooter_hw_id", "comment": null}, "started_at": {"type": "timestamp with time zone", "index": 4, "name": "started_at", "comment": null}, "finished_at": {"type": "timestamp with time zone", "index": 5, "name": "finished_at", "comment": null}, "start_lat": {"type": "double precision", "index": 6, "name": "start_lat", "comment": null}, "start_lon": {"type": "double precision", "index": 7, "name": "start_lon", "comment": null}, "finish_lat": {"type": "double precision", "index": 8, "name": "finish_lat", "comment": null}, "finish_lon": {"type": "double precision", "index": 9, "name": "finish_lon", "comment": null}, "distance": {"type": "double precision", "index": 10, "name": "distance", "comment": null}, "price": {"type": "bigint", "index": 11, "name": "price", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.dbt_scooters.scooters_raw.trips"}, "source.dbt_scooters.scooters_raw.users": {"metadata": {"type": "BASE TABLE", "schema": "scooters_raw", "name": "users", "database": "dev_tcz3", "comment": null, "owner": "admin"}, "columns": {"id": {"type": "bigint", "index": 1, "name": "id", "comment": null}, "first_name": {"type": "text", "index": 2, "name": "first_name", "comment": null}, "last_name": {"type": "text", "index": 3, "name": "last_name", "comment": null}, "phone": {"type": "text", "index": 4, "name": "phone", "comment": null}, "sex": {"type": "text", "index": 5, "name": "sex", "comment": null}, "birth_date": {"type": "date", "index": 6, "name": "birth_date", "comment": null}}, "stats": {"has_stats": {"id": "has_stats", "label": "Has Stats?", "value": false, "include": false, "description": "Indicates whether there are statistics for this table"}}, "unique_id": "source.dbt_scooters.scooters_raw.users"}}, "errors": null}